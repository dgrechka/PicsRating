<html>
    <head>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min.js"></script>
        <script src="http://crypto-js.googlecode.com/svn/tags/3.0.2/build/rollups/md5.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
        <script src="bundle.js"></script>
        <link href="app.css" rel="stylesheet" title="Default Style">        
        <meta charset="UTF-8">   
    </head>
    <body>
        <div id="voting" style="display:flex; flex-direction:column;justify-content: space-around">
            <div style="align-self: center; margin:3em">
                <h2 data-bind="visible: !CanRate()">Введите ваше имя и выберите слово-подпись</h2>
                <h2 data-bind="visible: CanRate()">Выберите ваш вариант</h2>
                <div title="Как Вы будете отображаться в статистике результатов">
                    <label>Ваше имя, уникально Вас идентифицирующее :</label>
                    <input data-bind="textInput: UserName"></input>
                </div>
                <div  title="Слово, известное только Вам. Не хранится на back-end. Используется для создания криптографической контрольной суммы вашего выбора">
                    <label>Слово-подпись:</label>
                    <input type="password" data-bind="textInput: Authword"></input>
                </div>
                <div>
                    <label>Слово-подпись еще раз:</label>
                    <input type="password" data-bind="textInput: Authword2"></input>
                </div>
                <p data-bind="visible: !AuthwordsMatch() && Authword().length>0">Введеные Вами Слова-подписи не совпадают</p>
            </div>
            <button data-bind="click: Regenerate" style="align-self: center; margin:0.5em">Сменить картинки</button>
            <div style="display:flex; flex-direction:row; justify-content: space-around">
                
                <div class="picture" data-bind="visible: CanRate(), click: votedA">
                    <img width="100%" data-bind="attr: { src: picA().GetURL() }"/>
                    <label data-bind="text: picA().GetCaption()"></label>
                </div>
                <div class="picture" data-bind="visible: CanRate(), click: votedB">
                    <img width="100%" data-bind="attr: { src: picB().GetURL() }"/>
                    <label data-bind="text: picB().GetCaption()"></label>
                </div>
            </div>
        </div>
        <button onclick="GetStats()">Получить рейтинг</button>
        <div id="stats" class="statContainer" data-bind="foreach: Pictures">
            <div class="statPicture">
                    <img style="width: 10em" data-bind="attr: { src: GetURL() }"/>
                    <div class="meter" style="width:100%">
                        <div class="meter" data-bind="style: {width : getMeterPadding(GetWins(),GetLoses()) }" ></div>
                        <div class="meter" data-bind="style: { width : getMeter(GetWins(),GetLoses()), 'background-color': GetWins()>GetLoses()?'green':'red' }" ></div>
                    </div>
                    <label data-bind="text: GetCaption()"></label>
            </div>
        </div>
        <a href="https://github.com/dgrechka/PicsRating"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>
    </body>
</html>